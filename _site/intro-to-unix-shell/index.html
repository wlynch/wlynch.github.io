<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Introduction to the Unix shell</title>
        <meta name="viewport" content="width=device-width">

        <!-- syntax highlighting CSS -->
        <link rel="stylesheet" href="/css/syntax.css">

        <!-- Custom CSS -->
        <link rel="stylesheet" href="/css/main.css">

    </head>
    <body>

        <div class="site">
          <div class="header">
            <h1 class="title"><a href="/">wlyn.ch</a></h1>
            <a class="extra" href="/">home</a>
          </div>

          <h2>Introduction to the Unix shell</h2>
<p class="meta">14 Feb 2014</p>

<div class="post">
<h1>Test</h1>

<h2>FAQ</h2>

<h3>What&#39;s a shell?</h3>

<p>A shell is a way to interact with your operating system via a text based system. 
This allows you to do useful things like fast searches and scripting. Since it is
a minimal interface, it makes it great to use across network connections.</p>

<h3>Shell vs. Terminal</h3>

<p>People often ask what the difference between a shell and a terminal is. A shell is the actual
interface between you and your OS, the terminal is the (GUI) application that surrounds it.</p>

<p>Generally you can use either interchangably and people will know what you are talking about.</p>

<h4>Common Terminals:</h4>

<ul>
<li>Mac: Terminal, iTerm2</li>
<li>Linux/other Unix: xterm, gnome-terminal</li>
</ul>

<h3>What if I am using Windows?</h3>

<p>If you are using Windows, I would recommend using a VM or creating an iLab account. While
Windows does have cmd and PowerShell, Windows is a very different operating system with 
very different utilities. We will be focusing on commands found commonly on Unix systems.</p>

<h3>How do I create an iLab account</h3>

<p>https://www.cs.rutgers.edu/resources/systems/ilab/newaccount/create/</p>

<p>Problems? Email help@cs.rutgers.edu</p>

<h3>How do I access iLab machines remotely via Windows or a Chromebook?</h3>

<p>I recommend connecting with an SSH application such as SecureShell (Google Chrome plugin) 
or Putty.</p>

<h3>What&#39;s the difference between a command and a program?</h3>

<p>You will probably see me using these terms interchangably. The explicit is that you enter a 
command in the shell that tells your OS what program to run and how to run it.</p>

<h2>Running commands</h2>

<p>Simply open up a shell, type a command, and hit enter. It is that simple. For example:
<code>echo &quot;Hello World!&quot;</code>.</p>

<p>If you get an error saying something along the lines of &quot;command not found&quot;, then this
usually means:
1. The command is not installed on the machine you are using
2. Your environment is misconfigured. (more on this later)</p>

<h3>Flags</h3>

<p>Also called options, are ways of modifying the behavior of commands. They usually are after
the program name, starting with <code>-</code> or <code>--</code>. You can mix and match flags to get the behavior
that you want. What each flag does is completely dependent on the command.</p>

<p>Flags starting with <code>-</code> can usually be combined into a single <code>-</code> flag. For example:
<code>ls -R -a -l</code> = <code>ls -Ral</code>. This is NOT true for <code>--</code> flags.</p>

<h3>Arguments</h3>

<p>Arguments are user defined information that is passed to commands an flags. They immediately 
follow the command/flag. For example, in <code>ls /usr/local</code>, <code>/usr/local</code> is the argument.
Depending on the command, you can give 0 to many arguments.</p>

<h2>Getting help</h2>

<p>Memorizing all of this flags and how to use each command will come in time. You will
not know them all.</p>

<p>For most commands, there is usually a man (manual) page associated with it. 
To read the man page of a command, simply use <code>man command</code>. This will give you 
more information on how to run a program.</p>

<h2>Paths</h2>

<p>Paths are the &quot;addresses&quot; of files and folders. They all start with the root folder <code>/</code> 
and tell you the location of a file or folder. There are 2 types of paths: 
absolute and relative. Both can be used in conjunction with any command that takes in 
a file or folder as an argument.</p>

<h3>Absolute Paths</h3>

<p>Absolute paths are paths that start from /, the root folder. For example:
- /home/wlynch/
- /usr/local/bin/python
- /var/log/messages/</p>

<h3>Relative Paths</h3>

<p>Relative paths are paths that start relative to your current position. For
example:
- ~ : Your home directory
- ~user : user&#39;s home directory
- . : Your current directory
- .. : The parent of your current directory</p>

<h2>Basic Navigation</h2>

<ul>
<li>pwd : print working directory</li>
<li><p>ls : list</p>

<p>Common options:</p>

<ul>
<li>-a : Show all files (even hidden)</li>
<li>-l : List in long format</li>
<li>-h : Use human readable sizes (useful with -l)</li>
<li>-R : Recursively list.</li>
<li>-d : List the directory, not its contents</li>
</ul></li>
<li><p>cd : change directory</p>

<p>Special uses:</p>

<ul>
<li>cd : go to home directory</li>
<li>cd - : go to the last directory</li>
</ul></li>
</ul>

<h2>Reading files</h2>

<ul>
<li>cat file : Print out file</li>
<li><p>less file : Print out file, with scrolling</p>

<p>Tip:
Use <code>/</code> to search a file in less. Use <code>n</code> to go to the next search term in the file
and <code>N</code> for the previous.</p></li>
</ul>

<h2>Editing files</h2>

<ul>
<li>vim</li>
<li>emacs</li>
</ul>

<p>I am particular to vim, so we will briefly go over the basics.</p>

<h3>Vim (Vi IMproved) Basics</h3>

<ul>
<li>In vim, there are 3 modes in vim: Command, Insert, and Visual.</li>
<li>When you start vim, you begin in command mode. </li>
<li>To move to insert mode, hit <code>i</code>. </li>
<li>To exit insert mode, hit <code>ESC</code>.</li>
<li>To save, enter <code>:w</code> in command mode</li>
<li>To exit, enter <code>:q</code> in command mode</li>
</ul>

<h2>Permissions</h2>

<p>To view permissions of a file or directory, use <code>ls -l</code>. You should see something like:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">total 5972
drwxr-xr-x  2 wlynch92 allusers   4096 Nov 15 14:22 bin
drwxr-xr-x  3 wlynch92 allusers   4096 Sep  4 14:30 build
drwx------ 17 wlynch92 allusers   4096 Feb 16  2013 class
drwxr-xr-x  6 wlynch92 allusers   4096 Dec 11 12:35 Desktop
drwxr-xr-x  2 wlynch92 allusers   4096 Nov 13  2012 Documents
drwxr-xr-x  2 wlynch92 allusers   4096 Dec 12 11:03 Downloads
drwxr-x--- 12 wlynch92 studsys    4096 Jan  8 15:44 lcsr
drwxr-xr-x  2 wlynch92 allusers   4096 Apr 13  2012 lib
drwxr-xr-x  8 wlynch92 allusers   4096 Oct 25 15:33 minecraft
-rwxr-xr-x  1 wlynch92 allusers 280212 Oct 25 15:33 Minecraft.jar
-rw-------  1 wlynch92 allusers    141 Sep 26 20:28 payroll.yaml
drwxr-xr-x  3 wlynch92 allusers   4096 Nov 27 15:44 public_html
-rw-r--r--  1 wlynch92 allusers  30141 Sep 28  2012 resume.pdf
drwxr-xr-x  3 wlynch92 allusers   4096 Feb  3  2012 share
drwxr-xr-x 10 wlynch92 allusers   4096 Oct  2 10:36 src
drwxr-xr-x  2 wlynch92 allusers   4096 Feb 11 10:07 tmp
drwxr-xr-x  2 wlynch92 allusers   4096 Jun  8  2012 Videos
</code></pre></div>
<p>Each column has a particular meaning:</p>

<ol>
<li>Permissions</li>
<li># of hard links</li>
<li>Owning User</li>
<li>Owning Group</li>
<li>Size</li>
<li>Last Modified Date</li>
<li>Name</li>
</ol>

<p>Permissions are broken up into 9 fields.</p>

<p>The first character represents the file type. This can be:
- <code>-</code> : File
- <code>d</code> : Directory
- <code>l</code> : symlink
- Other file types that we will note worry about for now.</p>

<p>The next 9 characters should be viewed as 3 different sets of <code>rwx</code>. The first set
represents the permissions of the owning user. The second set represents the permissions
of the owning group. The third set represents the permissions of anyone else. </p>

<p><code>r</code>, <code>w</code>, and <code>x</code> take on different meanings depending on the type of file.
For files:
- <code>r</code> : The user can read the file.
- <code>w</code> : The user can write to or remove the file.
- <code>x</code> : The user can execute the file as a program.</p>

<p>For directories:
- <code>r</code> : The user can see what is inside the directory.
- <code>w</code> : The user can add/remove files to the directory.
- <code>x</code> : The user can <code>cd</code> into the directory.</p>

<p>A <code>-</code> means that the corresponding group does not have that permission.</p>

<p>There are additional permissions that you can set for finer control, but we will not be
covering those here. Check out the man page for more details!</p>

<h3>Setting permissions</h3>

<p>You can set permissions of a file via the <code>chmod</code> command. There are 2 modes of chmod:
absolute or symbolic.</p>

<h4>Absolute permissions</h4>

<p>Absolute permissions are represented by 3 digit octal numbers representing each of the 3
groups of permissions. Imagine that you represent each permission as a binary number where
r = 4, w = 2, and x = 1. You can represent each group as the sum of these numbers. For example:
- rwx = 7
- r-x = 5
- r-- = 4
- --- = 0
You can then combine this for all 3 groups to form an absolute permission: <code>chmod 755 example.txt</code></p>

<h4>Relative permissions</h4>

<p>Relative permissions change permissions relative to it&#39;s current state. This is useful to
ensure that multiple files have a certain permission property regardless of their original
state. This is done by using:
- a group : <code>u</code> (user), <code>g</code> (group), or <code>o</code> (other)
- an operation : <code>+</code>, <code>-</code>, <code>=</code>
- a permission : <code>r</code>, <code>w</code>, <code>x</code>
For example:
<code>chmod ug+r example.txt</code> will add the read permission for the user and group 
(if it didn&#39;t already exist).</p>

<h2>File/directory manipulation</h2>

<ul>
<li>touch : Create a file / update time of access</li>
<li><p>mkdir : Make a directory</p>

<p>Common options:</p>

<ul>
<li>-p: Create the folder and all necessary parents that don&#39;t exist.</li>
</ul></li>
<li><p>rmdir : Remove a directory</p>

<p>Note: the directory must be empty.</p></li>
<li><p>mv : Move a file/directory</p>

<p>The <code>mv</code> command is also used to rename a file. For example: <code>mv a b</code> will rename file
a to b.</p></li>
<li><p>rm : Remove a file/directory</p>

<p>Common options:</p>

<ul>
<li>-f : Do not prompt user for deletion.</li>
<li><p>-r : Recursively remove a directory</p>

<p>Be careful when using this with the -f flag!</p></li>
</ul></li>
<li><p>cp : Copy a file/directory</p>

<p>Common options:</p>

<ul>
<li>-p : Preserve permissions</li>
<li>-R : copy recursively</li>
<li>-a : Same as -pR</li>
</ul></li>
<li><p>ln : Make a link</p>

<p>Links are a way to create shortcuts to files. This is useful so that a file can be in multiple
locations on your filesystem without taking up additional space. There are 2 types of links: 
Hard and Soft. </p>

<p>Hard links point to a file&#39;s contents directly. If the original is deleted you will still be
able to access it through the link.</p>

<p>Soft links point to a files contents indirectly. Instead, it points to the original location
of the file. You can think of this as a traditional shortcut. Soft links are also called
symbolic links or &quot;symlinks&quot;. You can create a symlink with the <code>-s</code> flag.</p></li>
</ul>

<h2>Other useful commands</h2>

<h3>Disk usage</h3>

<ul>
<li>du : (disk usage stats) Show sizes of files</li>
<li>df : (disk free stats) Show drive disk usage.</li>
<li>quota : See disk quota usage
### File search</li>
<li>find : recursively list files</li>
<li>diff : compare files for differences</li>
<li>grep : (Global Regular Expression Parser) Search file via a regular expression</li>
<li>which : See which program your shell is executing</li>
<li>whereis : See where your shell can find a program
### User info</li>
<li>finger : get user info</li>
<li>whoami : Display current user</li>
<li>ypcat : Get NIS user information</li>
<li>w : See who is logged in
### Processes</li>
<li>ps : Show process information</li>
<li>top : Show updating process information</li>
<li>kill : Send signal to process by PID</li>
<li>pkill : Send signal to process by name
### Network</li>
<li>ping : Send echo packet</li>
<li>wget : Get HTTP page</li>
<li>curl : Send network request</li>
<li>host/dig : DNS lookup</li>
<li>ifconfig : See/change network information for your machine.</li>
<li>hostname : Get/set the hostname of your current machine</li>
<li>ftp/sftp : Get/put file from/to remote server via FTP.</li>
<li>ssh : Connect to remote host via SSH.</li>
<li>pdsh : ssh on steroids. See http://vverma.net/use-pdsh-to-shell-into-multiple-hosts.html
### File compression</li>
<li>tar</li>
<li>zip/unzip</li>
<li>bzip2
### Misc</li>
<li>echo : Print to stdout</li>
<li>sleep : Do nothing for x seconds</li>
</ul>

<h2>Redirection</h2>

<p>You can manipulate stdin (input) as well as stdout and stderr (output) to your commands via 
stream redirection. You can do this by appending these to the end of your command:
- &lt; : Redirect stdin to read in from thing on right
- &gt; : Write stdout to file (overwrites existing contents)
- &gt;&gt; : Append stdout to file
- 2&gt;/2&gt;&gt; : Same as <code>&gt;</code>/<code>&gt;&gt;</code>, but with stderr
- &amp;&gt;/&amp;&gt;&gt; : Same as <code>&gt;</code>/<code>&gt;&gt;</code>, but with both stdout and stderr 
- | : Use the output of the left as the input of the right</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">Example: `ls | grep asdf` 
</code></pre></div>
<h3>Command substitution</h3>

<p>You can nest commands within each other by nesting them within ``. For example:
<code>ifconfig &gt;</code>hostname<code>.txt</code></p>

<h2>Environment variables</h2>

<p>Something I hear a lot is &quot;How does the shell know what to run?&quot; The answer to this question
is environment variables.</p>

<p>Environment variables are variables that </p>

</div>


          <div class="footer">
            <div class="contact">
              <p>
                Your Name<br />
                What You Are<br />
                you@example.com
              </p>
            </div>
            <div class="contact">
              <p>
                <a href="https://github.com/yourusername">github.com/yourusername</a><br />
                <a href="https://twitter.com/yourusername">twitter.com/yourusername</a><br />
              </p>
            </div>
          </div>
        </div>

    </body>
</html>
